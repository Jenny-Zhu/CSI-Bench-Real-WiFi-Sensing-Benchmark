# WiFi感知基准测试项目改进

本文档总结了我们对WiFi感知基准测试项目所做的改进，主要聚焦于配置文件管理和结果存储机制。

## 主要改进

1. **统一目录结构**
   - 将配置文件从configs目录移到results目录
   - 使用统一的目录结构：`results/TASK/MODEL/EXPERIMENT_ID/`
   - 监督学习和多任务学习使用相同的目录结构

2. **最佳模型判断标准**
   - 从使用test accuracy改为使用validation accuracy判断最佳模型
   - 在`train_supervised.py`和`train_multitask_adapter.py`中更新相关代码

3. **改进测试结果存储格式**
   - 使用字典格式存储多个测试集的结果：`{"test_set_1": test_acc_1, "test_set_2": test_acc_2}`
   - 添加F1分数的计算和存储
   - 确保两种学习方法的结果格式一致

## 详细改动

### 1. local_runner.py
- 修改了`save_config`函数，确保配置文件保存到results目录
- 修改了`get_multitask_config`函数，确保它提供正确的任务名称
- 确保多任务学习使用单一task名作为目录名

### 2. train_supervised.py
- 更新了代码，使用验证准确率而非测试准确率来判断最佳模型
- 改进了结果存储格式，使用字典格式存储测试准确率和F1分数

### 3. train_multitask_adapter.py
- 修改了`evaluate`函数，添加F1分数的计算功能
- 更新了使用evaluate函数的地方，确保F1分数被正确使用
- 改进了测试结果的存储格式，使用字典格式存储测试准确率和F1分数
- 确保使用验证准确率而非测试准确率来判断最佳模型

## 效果

这些更改使项目的配置和结果管理更加一致和清晰，便于比较不同实验的结果。现在：

1. 所有结果和配置文件都统一存储在results目录下，使用一致的目录结构
2. 最佳模型判断标准统一为验证准确率，与实际机器学习实践更为一致
3. 测试结果存储格式统一为字典格式，便于处理多个测试集的结果
4. 添加了F1分数，为评估提供了更全面的指标 